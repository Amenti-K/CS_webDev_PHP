// Rooms Table
// This table stores information about each room in the guest house or hotel.

CREATE TABLE rooms (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    price DECIMAL(10, 2) NOT NULL,
    location VARCHAR(255) NOT NULL,
    bedrooms INT NOT NULL,
    beds INT NOT NULL,
    bathrooms INT NOT NULL,
    kitchen BOOLEAN DEFAULT FALSE,
    wifi BOOLEAN DEFAULT FALSE,
    ac BOOLEAN DEFAULT FALSE,
    image_path1 VARCHAR(255) NOT NULL,
    image_path2 VARCHAR(255) NOT NULL,
    image_path3 VARCHAR(255) NOT NULL
);


// Users Table
// This table stores information about registered users who can log into the system.

CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    govID VARCHAR(100),
    phone_number VARCHAR(20),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


// Admin Table
// This table stores information about administrators who manage the system.

CREATE TABLE admins (
    id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    phone_number VARCHAR(20) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


//Reserved Rooms Table
// This table tracks reservations made by users for specific rooms.

CREATE TABLE reserved_rooms (
    id INT AUTO_INCREMENT PRIMARY KEY,
    room_id INT,
    user_email VARCHAR(100),
    check_in_date DATE NOT NULL,
    check_out_date DATE NOT NULL,
    number_of_nights INT NOT NULL,
    FOREIGN KEY (room_id) REFERENCES rooms(id) ON DELETE CASCADE,
    FOREIGN KEY (user_email) REFERENCES users(email) ON DELETE CASCADE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);



//Comment table
// This table keeps user's comment for a particular room
CREATE TABLE comments (
    id INT AUTO_INCREMENT PRIMARY KEY,
    userName VARCHAR(255) NOT NULL,
    comment TEXT NOT NULL,
    room_id INT,
    user_email VARCHAR(255),
    FOREIGN KEY (room_id) REFERENCES rooms(id),
    FOREIGN KEY (user_email) REFERENCES users(email)
);


CREATE TABLE favorites (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_email VARCHAR(255) NOT NULL,
    room_id INT NOT NULL,
    UNIQUE KEY user_room (user_email, room_id),
    FOREIGN KEY (user_email) REFERENCES users(email),
    FOREIGN KEY (room_id) REFERENCES rooms(id)
);

